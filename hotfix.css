/* ===== إزالة أي خلفيات/جوتّات حوالين سكشن البنر (Fallback عام) ===== */
.banner-wrap,
.banner-wrap *{
  background-color: transparent !important;
}
.banner-wrap{
  padding:0 !important; margin:0 !important; box-shadow:none !important;
}
.banner-wrap .container, .banner-wrap .container-fluid{
  padding-left:0 !important; padding-right:0 !important;
}
.banner-wrap .row{
  --bs-gutter-x:0 !important; margin-left:0 !important; margin-right:0 !important;
}

/* ===== “الدلع” + شكل البانر ===== */
:root{
  --banner-max: 1120px;
  --banner-radius: 22px;
  --banner-shadow: 0 20px 50px rgba(0,0,0,.22);
  --glow-a: rgba(168,85,247,.40);
  --glow-b: rgba(34,211,238,.40);
  --dots-offset: 10px;
}

.bannerizer{
  position:relative;
  width:min(100% - 24px, var(--banner-max)) !important;
  margin:12px auto 22px !important;
  border-radius:var(--banner-radius) !important;
  overflow:hidden !important;
  line-height:0;
  box-shadow:var(--banner-shadow);
  border:1px solid transparent;
  background:
    linear-gradient(#0000,#0000) padding-box,
    linear-gradient(90deg, var(--glow-a), var(--glow-b)) border-box;
  z-index:1;
}

/* توهّج خلفي (خلف الصورة مباشرة) */
.bannerizer::before{
  content:"";
  position:absolute; inset:-28% -18% -36% -18%;
  background:
    radial-gradient(60% 40% at 20% 0%, var(--glow-a), transparent 60%),
    radial-gradient(60% 40% at 80% 100%, var(--glow-b), transparent 60%);
  filter:blur(22px); opacity:.32; pointer-events:none; z-index:0;
}

/* الحاوية الداخلية التي نثبّت عليها الـratio (القيم يضبطها JS) */
.bannerizer .slick-list{
  --arW:128; --arH:45; /* افتراضي لحد ما الـJS يقيس */
  aspect-ratio: var(--arW) / var(--arH);
  height:auto !important; min-height:0 !important;
  border-radius:inherit !important; overflow:hidden !important;
  padding:0 !important; margin:0 !important;
  background:transparent !important; position:relative; z-index:1;
}

/* املأ الارتفاع في كل طبقات السلايد */
.bannerizer .slick-track,
.bannerizer .slick-slide,
.bannerizer .slick-slide > div,
.bannerizer .slider-item,
.bannerizer .slider-item.bg-img{
  height:100% !important;
  border-radius:inherit !important;
  overflow:hidden !important;
  /* ⚠️ متعملش background: transparent هنا عشان ما تمسحش الـBG للصورة */
}

/* IMG */
.bannerizer .slick-slide img{
  width:100% !important; height:100% !important;
  object-fit:cover !important; object-position:center !important;
  display:block !important; border-radius:inherit !important;
}

/* background-image */
.bannerizer .slider-item.bg-img{
  background-size:cover !important; background-position:center !important; background-repeat:no-repeat !important;
}

/* Ken Burns ناعم */
@keyframes kb { from{ transform:scale(1); } to{ transform:scale(1.035); } }
.bannerizer .slick-current img,
.bannerizer .slick-current .slider-item.bg-img{
  animation: kb 12s ease-in-out both;
}

/* الدوتس */
.bannerizer .slick-dots{
  position:absolute !important; left:50%; transform:translateX(-50%);
  bottom:var(--dots-offset) !important; margin:0 !important; padding:0 !important;
  background:transparent !important; z-index:2;
}
.bannerizer .slick-dots li, .bannerizer .slick-dots li button{
  background:transparent !important; border:0 !important;
}

/* اختياري: فل-بليد (يملى الشاشة عرضيًا) — فعّله بإضافة كلاس full-bleed */
.bannerizer.full-bleed{
  width:100vw !important; max-width:100vw !important;
  margin-left:calc(50% - 50vw) !important; margin-right:calc(50% - 50vw) !important;
  border-radius:16px !important;
}
/* ==== دلع إضافي للبانر ==== */
:root{
  --banner-tilt: 6deg;            /* أقصى ميل في الـtilt */
  --banner-hover-lift: 6px;        /* ارتفاع الهفر */
  --grain-opacity: .06;            /* شفافية النويس */
  --particles-opacity: .12;        /* شفافية البارتكلز */
  --progress-h: 3px;               /* ارتفاع خط التقدم */
  --progress-c:  linear-gradient(90deg,#8b5cf6,#06b6d4); /* ألوان خط التقدم */
  --arrow-bg:    rgba(0,0,0,.55);  /* خلفية الأسهم */
  --arrow-bg-h:  rgba(0,0,0,.8);   /* خلفية الأسهم عند الهفر */
  --dot-size:    8px;
}

/* رفع خفيف عند الهفر + شادو أعمق */
.bannerizer{
  transition: transform .35s ease, box-shadow .35s ease, filter .35s ease;
}
.bannerizer:hover{
  transform: translateY(calc(var(--banner-hover-lift) * -1));
  box-shadow: 0 30px 70px rgba(0,0,0,.28);
}

/* بوردر جراديانت متحرّك */
@keyframes borderSweep{ 
  0%{ background-position: 0% 50%; } 
  100%{ background-position: 200% 50%; } 
}
.bannerizer{
  border:1px solid transparent;
  background:
    linear-gradient(#0000,#0000) padding-box,
    linear-gradient(90deg, var(--glow-a), var(--glow-b), var(--glow-a)) border-box;
  background-size: 200% 100%, 200% 100%;
  animation: borderSweep 10s linear infinite;
}

/* طبقة نويس خفيفة + بارتكلز */
.bannerizer::after{
  content:"";
  position:absolute; inset:0; pointer-events:none; z-index:2;
  background:
    radial-gradient(2px 2px at 20% 30%, #fff3, #0000 50%),
    radial-gradient(1.5px 1.5px at 70% 60%, #fff4, #0000 45%),
    radial-gradient(1.5px 1.5px at 35% 80%, #fff3, #0000 45%),
    linear-gradient(#000,#000);
  background-blend-mode:screen,screen,screen,normal;
  mix-blend-mode:soft-light;
  opacity: var(--particles-opacity);
}
.bannerizer::before{
  /* النويس (حبيبات) */
  content:"";
  position:absolute; inset:-1px; z-index:2; pointer-events:none;
  background-image:url("data:image/svg+xml;utf8,\
<svg xmlns='http://www.w3.org/2000/svg' width='120' height='120' viewBox='0 0 120 120'>\
<filter id='n'><feTurbulence type='fractalNoise' baseFrequency='.9' numOctaves='2' stitchTiles='stitch'/></filter>\
<rect width='120' height='120' filter='url(%23n)' opacity='.38'/>\
</svg>");
  background-size:120px 120px;
  mix-blend-mode:overlay;
  opacity: var(--grain-opacity);
}

/* أسهم السلايدر */
.bannerizer .slick-arrow{
  width:40px;height:40px;border-radius:999px;
  background:var(--arrow-bg) !important;
  backdrop-filter: blur(4px);
  transition: transform .2s ease, background .2s ease;
}
.bannerizer .slick-arrow:hover{ background:var(--arrow-bg-h) !important; transform: scale(1.05); }
.bannerizer .slick-prev{ left: 10px; }
.bannerizer .slick-next{ right:10px; }
.bannerizer .slick-prev:before,
.bannerizer .slick-next:before{ color:#fff !important; font-size:20px; }

/* الدوتس */
.bannerizer .slick-dots{ bottom: calc(var(--dots-offset) + 2px) !important; }
.bannerizer .slick-dots li{ margin:0 5px; }
.bannerizer .slick-dots li button{
  width: var(--dot-size); height: var(--dot-size); border-radius:999px;
  background:#fff4 !important; transition: transform .25s ease, background .25s ease;
}
.bannerizer .slick-dots li.slick-active button{
  background:linear-gradient(90deg,#8b5cf6,#06b6d4) !important;
  transform: scale(1.25);
}

/* Progress bar */
.bannerizer .banner-progress{
  position:absolute; left:0; right:0; bottom:0; height:var(--progress-h);
  background:linear-gradient(#0000,#0000);
  z-index:3; overflow:hidden; border-bottom-left-radius:inherit; border-bottom-right-radius:inherit;
}
.bannerizer .banner-progress__bar{
  height:100%; width:0%;
  background: var(--progress-c);
  transition: width linear;
}

/* Skeleton loading (شيمر) */
.bannerizer.loading::after{
  content:""; position:absolute; inset:0; z-index:1; pointer-events:none;
  background:
    linear-gradient(100deg, #ffffff10 20%, #ffffff30 35%, #ffffff10 50%) 0 0 / 200% 100% no-repeat;
  animation: shimmer 1.2s linear infinite;
  border-radius:inherit;
}
@keyframes shimmer{
  0%{ background-position: -150% 0; }
  100%{ background-position: 150% 0; }
}
